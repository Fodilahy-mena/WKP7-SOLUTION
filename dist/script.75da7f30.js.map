{"version":3,"sources":["script.js"],"names":["books","title","author","genre","pages","read","id","form","document","querySelector","tableList","showBooks","html","map","book","join","innerHTML","addBook","e","preventDefault","console","log","formEl","currentTarget","newBook","value","Date","now","push","dispatchEvent","CustomEvent","reset","handleClick","target","checkBtn","closest","Number","updateRead","deleteBtn","deleteBook","idToDelete","filter","bookToUpdate","find","initLocalStorage","updateLocalStorage","addEventListener","window"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["let books = [\n    {\n    title: \"Harry Potter\",\n    author: \"JK Rowling\",\n    genre: \"Mystery\",\n    pages: 300,\n    read: true,\n    id: 1597750453607,\n    },\n    {\n    title: \"Twilight\",\n    author: \"Catherin Hardwicke\",\n    genre: \"Romance\",\n    pages: 433,\n    read: false,\n    id: 1597750478241,\n    },\n    {\n    title: \"Tongavola\",\n    author: \"Tambinarivo Emilio Jerome\",\n    genre: \"Educative\",\n    pages: 513,\n    read: true,\n    id: 1597750525481,\n    },\n];\n\n// add an element to the list with the form\n// The element is added on the list\n// reset the form after submission\n// Not add an empty element\n// delete an element\n// edit the state of an element\n// save new element to local storage\n// save the new state of object in local storage\n// form validation?\nconst form = document.querySelector('form');\nconst tableList = document.querySelector('tbody');\n\nconst showBooks = () => {\n    const html = books.map(book => {\n        return  `\n        <tr>\n            <td class=\"left\">${book.title}</td>\n            <td>${book.author}</td>\n            <td>${book.genre}</td>\n            <td>${book.pages}</td>\n            <td>\n                <button\n                value=\"${book.id}\"\n                class=\"check\"\n                area-label=\"Update read attribute of ${book.title}\">\n                    <img ${book.read ? '' : 'hidden'}\n                    src=\"./assets/icons/checked.svg\"\n                    alt=\"the book ${book.title} is read\"/>\n\n                    <img ${book.read ? 'hidden' : ''}\n                    src=\"./assets/icons/unchecked.svg\"\n                    alt=\"the book ${book.title} is not yet read\"/>\n                </button>\n            </td>\n            <td>\n                <button\n                value=\"${book.id}\" \n                class=\"delete\"\n                area-label=\"Delete ${book.title} book\">\n                    <img \n                    src=\"./assets/icons/trash.svg\" \n                    alt=\"Delete ${book.title} fron the list\"/>\n                </button>\n            </td>\n        </tr>\n        `;\n    }).join('');\n    tableList.innerHTML = html;\n};\n// showBooks();\n\nconst addBook = e => {\n    e.preventDefault();\n    console.log(e);\n    const formEl = e.currentTarget;\n    const newBook = {\n        title: formEl.title.value,\n        author: formEl.author.value,\n        genre: formEl.genre.value,\n        pages: formEl.pages.value,\n        read: formEl.read.value === true,\n        id: Date.now(),\n    };\n    console.log(newBook);\n    books.push(newBook);\n    tableList.dispatchEvent(new CustomEvent('listUpdate'));\n    formEl.reset();\n};\n\nconst handleClick = e => {\n    console.log(e.target);\n    // Update read attribute\n    const checkBtn = e.target.closest('button.check');\n    if (checkBtn) {\n        const id = Number(checkBtn.value);\n        console.log('UPDATE THAT BOOK PLEASE');\n        updateRead(id);\n    }\n    // Delete book\n    const deleteBtn = e.target.closest('button.delete');\n    if (deleteBtn) {\n        const id = Number(deleteBook.value);\n        console.log('DELETE THAT BOOK PLEASE');\n        deleteBook(id);\n    }\n};\n\nconst deleteBook = idToDelete => {\n    books = books.filter(book => book.id !== idToDelete);\n    tableList.dispatchEvent(new CustomEvent('listUpdate'));\n};\n\nconst updateRead = id => {\n    const bookToUpdate = books.find(book => book.id === id);\n    console.log(bookToUpdate);\n\n    // objects and arrays are passed by reference (and not by a value)\n    bookToUpdate.read = !bookToUpdate.read;\n    console.log(books);\n    // if we just update the attribute here, it will be also ipdated to the books \n    tableList.dispatchEvent(new CustomEvent('listUpdate'));\n};\n\nconst initLocalStorage = () => {};\n\nconst updateLocalStorage = () => {};\nform.addEventListener('submit', addBook);\ntableList.addEventListener('listUpdate', showBooks);\nwindow.addEventListener('DOMContentLoaded', showBooks);\ntableList.addEventListener('click', handleClick);"]}